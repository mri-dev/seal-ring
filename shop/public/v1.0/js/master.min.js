function autoresizeImages(){$(".img-auto-cuberatio").each(function(e,t){var a=$(t),i=a.width();a.css({height:i})})}function initRanges(){$(".range").each(function(){var e=$(this),t=e.attr("key"),a=parseInt(e.attr("smin")),i=parseInt(e.attr("smax")),n=parseInt(e.attr("amin")),o=parseInt(e.attr("amax"));a=isNaN(a)?n:a,i=isNaN(i)?o:i,e.slider({range:!0,min:n,max:o,step:1,values:[a,i],slide:function(e,a){$("#"+t+"_range_min").val(a.values[0]),$("#"+t+"_range_max").val(a.values[1]),$("#"+t+"_range_info_min").text(a.values[0]),$("#"+t+"_range_info_max").text(a.values[1]),postFilterForm()}})})}function postFilterForm(){}function Cart(){this.content=".cartContent",this.push=function(e){var t=$(this.content).find(".item");console.log(e);var a='<div class="item i'+e.termekID+'"><div class="img"><div class="img-thb"><span class="helper"></span><img src="'+e.profil_kep+'" alt="'+e.termekNev+'" name="'+e.termekNev+'"/></div></div><div class="info"><div class="adder"><i class="fa fa-minus-square" title="Kevesebb" onclick="Cart.removeItem('+e.termekID+')"></i><i class="fa fa-plus-square" title="Több" onclick="Cart.addItem('+e.termekID+')"></i></div><div class="remove"><i class="fa fa-times "  onclick="Cart.remove('+e.termekID+');" title="Eltávolítás"></i></div><div class="name"><a href="'+e.url+'"><span class="in">'+e.me+"x</span> "+e.termekNev+'</a></div><div class="sub"><span class="ar">'+("-1"!=e.ar?e.ar+" Ft / db":"Ár: érdeklődjön")+'</span></div></div><div class="clr"></div></div>';0==t.length?$(this.content).html(a):$(a).insertAfter(this.content+" .item:last")},this.addItem=function(e){var t=this;$.post("/ajax/post/",{type:"cart",mode:"addItem",id:e},function(e){var a=$.parseJSON(e);1==a.success?getCartInfo(function(e){refreshCart(e),t.reLoad(e)}):aler(a.msg)},"html")},this.removeItem=function(e){var t=this;$.post("/ajax/post/",{type:"cart",mode:"removeItem",id:e},function(e){var a=$.parseJSON(e);1==a.success?getCartInfo(function(e){refreshCart(e),t.reLoad(e)}):aler(a.msg)},"html")},this.reLoad=function(e){$(this.content).html('<div class="noItem"><div class="inf">A kosár üres</div></div>'),buildCartItems(e)},this.remove=function(e){var t=this.content,a=this;$.post("/ajax/post/",{type:"cart",mode:"remove",id:e},function(i){var n=$.parseJSON(i);1==n.success?($(t+" .item.i"+e).remove(),0==$(t).find(".item").length&&$(t).html('<div class="noItem"><div class="inf">A kosár üres</div></div>'),getCartInfo(function(e){refreshCart(e),a.reLoad(e)})):aler(n.msg)},"html")}}$(function(){searchFilters(),getLocation(),$.cookieAccepter("https://www.sealring.hu/p/aszf/"),$("*[jOpen]").openPage({overlayed:!0,path:"<?=AJAX_BOX?>"});var e=$(".transports");if(e.length)var t=$(".transports").offset().top;var a=$("#footer").height();$(document).scroll(function(){var i=$(this).scrollTop();if(i>200?"none"==$("#topper .upTop").css("display")&&$("#topper .upTop").fadeIn(400):$("#topper .upTop").fadeOut(400),e.length){var n=$(document).height()-(e.height()+$(".transports").offset().top);n!=a&&(i+$("#topper").height()>t?n<=a?e.removeClass("toTopFix").addClass("inFooter"):e.removeClass("inFooter").addClass("toTopFix"):e.removeClass("toTopFix").removeClass("inFooter"))}}),$("*[toggle-menu]").click(function(){var e=$(this).hasClass("toggled"),t=$(this).attr("toggle-menu");console.log(t),e?($(this).removeClass("toggled"),$(".cat-menu li.childof"+t).removeClass("showed"),$(".cat-menu li[class*=row-"+t+"-]").removeClass("showed"),$(".cat-menu li[class*=row-"+t+"] .toggler").removeClass("toggled")):($(this).addClass("toggled"),$(".cat-menu li.childof"+t).addClass("showed"))}),autoresizeImages();var i=$(window).width();$(window).resize(function(){$(this).width()!=i&&autoresizeImages()}),$(".dropdown-list-container").click(function(){$(this).find(".dropdown-list-selecting").hasClass("showed")?$(this).find(".dropdown-list-selecting").removeClass("showed"):$(this).find(".dropdown-list-selecting").addClass("showed")}),$(".cart-float").click(function(){$(this).hasClass("opened")?$(this).removeClass("opened"):$(this).addClass("opened")}),$(".social-fb-box").bind({mouseenter:function(){$(this).animate({right:0},100)},mouseleave:function(){$(this).animate({right:-310},100)}}),$("#topper .upTop > a").click(function(){$("body,html").animate({scrollTop:0},800)}),$(".con i.hbtn").click(function(){var e=$(this).attr("key");$(".newWire."+e).slideToggle(200)});var n=null;$(".selector").click(function(){var e=$(this).attr("key");e!=n&&$(".selectors .selectorHint").slideUp(100),$(".selectorHint."+e).slideToggle(200),n=e}),$(".param input[mode!=minmax], .param select").each(function(){checkUsedParam($(this))}),$(".param input[mode=minmax]").each(function(){checkUsedMinMaxParam($(this))}),$(".selectorHint input[type=checkbox][for]").click(function(){var e=$(this).attr("for"),t="",a="";$(".selectorHint input[type=checkbox][for="+e+"]").each(function(){$(this).attr("for");var e=$(this).is(":checked"),i=$(this).attr("text"),n=$(this).val();e&&(t+=i+", ",a+=n+",")}),t=""==t?$(this).attr("defText")?$(this).attr("defText"):"összes":t.slice(0,-2),a=""==a?"":a.slice(0,-1),$("#"+e).text(t),$("#"+e+"_v").val(a)}),$(".szuro .param i.ips").click(function(){removeFilterItem($(this))}),$("*[autoOpener]").each(function(){var e=$(this).attr("autoOpener");localStorage.getItem(e)?$(this).css({display:"none"}):$(this).css({display:"block"})}),initRanges(),$(".product-view a.zoom, a.zoom").fancybox({padding:0,openEffect:"elastic",openSpeed:250,closeEffect:"elastic",closeSpeed:250,closeClick:!0,helpers:{overlay:null,buttons:{position:"bottom"},title:{type:"over"}}}),$(".slideShow").slick({dots:!0,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:8e3,adaptiveHeight:!0,arrows:!0,responsive:[{breakpoint:480,settings:{mobileFirst:!0,respondTo:window}}]});var o=setInterval(function(){var e=$(".highlight-view .items a[key]").attr("key"),t=$(".highlight-view .items li").length,a=parseInt($(".highlight-view .items li[class*=active]").attr("index")),i=a+1,n=a-1;i>t&&(i=1),n<=0&&(n=t),$(".highlight-view .items li").removeClass("active"),"next"==e?$(".highlight-view .items li[index="+i+"]").addClass("active"):$(".highlight-view .items li[index="+n+"]").addClass("active")},1e4);$(".highlight-view .items a[key]").click(function(){var e=$(this).attr("key"),t=$(".highlight-view .items li").size(),a=parseInt($(".highlight-view .items li[class*=active]").attr("index")),i=a+1,n=a-1;window.clearInterval(o),i>t&&(i=1),n<=0&&(n=t),$(".highlight-view .items li").removeClass("active"),"next"==e?$(".highlight-view .items li[index="+i+"]").addClass("active"):$(".highlight-view .items li[index="+n+"]").addClass("active")}),$("a[href*=\\#]:not([href=\\#])").click(function(){var e=$(this).attr("href").replace("#",""),t=$("a[name="+e+"]");return $("html,body").animate({scrollTop:t.offset().top-40},500),!1}),$("*[mb-event]").each(function(e){var t=$(this).data("mb");switch(t.event){case"toggleOnClick":t.target&&($(t.target).unbind("mouseenter mouseleave click"),$(this).click(function(){var e=$(t.target);if(e.hasClass("opened"))e.removeClass("opened"),1==t.bodynoscroll&&$("body").removeClass("noscroll");else if($(".mb-tgl-close").removeClass("opened"),e.addClass("opened"),1==t.bodynoscroll&&$("body").addClass("noscroll"),void 0!==t.calcheight){var a=$("body").height(),i=void 0!==t.calcheightminus?t.calcheightminus:0;$(t.calcheight).css({height:a-i})}}))}}),jQuery.each($(".autocorrett-height-by-width"),function(e,t){var a=$(t).width(),i=$(t).data("image-ratio"),n=$(t).data("image-under"),o=$(window).width();i=void 0!==i?i:"4:3",console.log(i);var s=i.split(":"),r=a/parseInt(s[0])*parseInt(s[1]);n?o<n&&$(t).css({height:r}):$(t).css({height:r})}),$("*.mobile-max-width").each(function(){i<=480&&$(this).css({width:i,maxWidth:i})})});var Cart=new Cart;function createFilterArRange(e,t,a,i){a=parseInt(a),i=parseInt(i),e=parseInt(e),t=parseInt(t),e=void 0===e||isNaN(e)?0:e,t=void 0===t||isNaN(t)?25e4:t,a=void 0===a||isNaN(a)?0:a,i=void 0===i||isNaN(i)?25e4:i,$("#arShow").text("("+a+" - "+i+")"),$("#filter_termekAr_range").slider({range:!0,min:a,max:i,step:1e3,values:[e,t],slide:function(e,t){$("#fil_ar_min").val(t.values[0]),$("#fil_ar_max").val(t.values[1]),$("#arShow").text("("+t.values[0]+" - "+t.values[1]+")"),postFilterForm()}})}function openCloseBox(e,t){var a=localStorage.getItem(t);"none"==$(e).css("display")?(localStorage.removeItem(t),$(e).toggle("slide")):(localStorage.setItem(t,11),$(e).toggle("slide")),console.log(a)}function removeFilterItem(e){var t=e.attr("key");"range"==e.attr("mode")?($("#"+t+"_min").val(""),$("#"+t+"_max").val("")):($("#"+t+"_v").val(""),$("#"+t).text("összes").removeClass("filtered")),e.remove()}function checkUsedMinMaxParam(e){var t=e.attr("id"),a=e.val();t.search("_min")>-1&&(t=t.replace("_min",""),""!=a&&$("<i class='fa fa-times ips' mode='range' key='"+t+"'></i>").insertBefore("#"+t+"_min"))}function checkUsedParam(e){if("hidden"==e.attr("type")){var t=e.val(),a=e.attr("id");if(""!=t){var i=a.replace("_v","");$("<i class='fa fa-times ips' key='"+i+"'></i>").insertBefore("#"+i)}}}function searchFilters(){$(".selectorHint input[type=checkbox][for]").each(function(){var e=$(this).attr("for"),t=($(this).is(":checked"),""),a="";$(".selectorHint input[type=checkbox][for="+e+"]").each(function(){var e=$(this).attr("for"),i=$(this).is(":checked"),n=$(this).attr("text"),o=$(this).val();i&&($("#"+e).addClass("filtered"),t+=n+", ",a+=o+",")}),t=""==t?$(this).attr("defText"):t.slice(0,-2),a=""==a?"":a.slice(0,-1),$("#"+e).text(t),$("#"+e+"_v").val(a)}),$("button[cart-data]").click(function(){var e=$(this).attr("cart-data"),t=$(this).attr("cart-remsg"),a=$("input[type=number][cart-count="+e+"]").val(),i=$(this).attr("cart-progress");void 0===a&&(a=parseInt($(this).attr("cart-me"))),void 0!==i&&$("#"+i).stop().addClass("in-progress").html('Folyamatban <i class="fa fa-spin fa-spinner"></i>'),$("#"+t).html('<div class="in-progress"><i class="fa fa-spin fa-spinner"></i> kosárba helyezés folyamatban...</div>'),addToCart(e,a,function(e,a){1==e?$("#"+t).html('<div class="success">'+a+"</div>"):$("#"+t).html('<div class="error">'+a+"</div>"),void 0!==i&&$("#"+i).stop().removeClass("in-progress").html('<span class="t">Kosárba</span> <img src="https://cp.seal-ring.web-pro.hu/src/images/shopcart-ico.svg" alt="Kosárba">')})}),getCartInfo(function(e){refreshCart(e),buildCartItems(e)})}function buildCartItems(e){var t=e.items;if(!t)return!1;for(var a=0;a<t.length;a++){var i=t[a];Cart.push(i)}}function getCartInfo(e){$.post("/ajax/get/",{type:"cartInfo"},function(t){var a=$.parseJSON(t);e(a)},"html")}function refreshCart(e){$("#cart-item-num-v, .cart-item-num-v").text(e.itemNum),$("#cart-item-num, .cart-item-num-v").text(e.itemNum),$(".cart-item-num, .cart-item-num-v").text(e.itemNum),$("#cart-item-prices").text(e.totalPriceTxt),$(".cart-item-prices").text(e.totalPriceTxt),e.itemNum>0?($(".cart-box").show(0),$(".cart .whattodo").addClass("active")):($(".cart-box").hide(0),$(".cart .whattodo").removeClass("active"))}function addToCart(e,t,a){$.post("/ajax/post/",{type:"cart",mode:"add",t:e,m:t},function(e){var t=$.parseJSON(e);1==t.success&&getCartInfo(function(e){refreshCart(e),Cart.reLoad(e)}),a(t.success,t.msg)},"html")}function getLocation(){var e=(new Date).getTime(),t=$.cookie("geo_lastrefresh"),a=!1;diff_hr=(e-t)/1e3/60/60,diff_hr>24&&(a=!0),a&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(showPosition)}function showPosition(e){$.cookie("geo_lastrefresh",(new Date).getTime()),$.cookie("geo_latlng",e.coords.latitude+","+e.coords.longitude),$.cookie("geo_countrycode")||$.getJSON("http://ws.geonames.org/countryCode",{lat:e.coords.latitude,lng:e.coords.longitude,username:"mridev",type:"JSON"},function(e){$.cookie("geo_countrycode",e.countryCode)})}function searchItem(e){var t=e.find("input[type=text]").val();$.post("<?=AJAX_POST?>",{type:"log",mode:"searching",val:t},function(e){document.location.href="/kereses/"+t},"html")}function prepareHelpdeskHeaderSearch(e){var t=$(e).find("input").val();document.location.href="/tudastar#?tags="+t}var tc=angular.module("sealring",["ngMaterial","ngMessages","ngCookies"]);tc.controller("App",["$scope","$sce","$http","$mdToast","$mdDialog","$location","$window","$cookies","$cookieStore",function(e,t,a,i,n,o,s,r,c){e.fav_num=0,e.fav_ids=[],e.in_progress_favid=!1,e.requesttermprice={},e.order_accepted=!1,e.accept_order_key="acceptedOrder",e.accept_order_text=null,e.accept_order_title="Szerződési feltételek elfogadása",e.productAddToFav=function(t,a){if(-1!==e.fav_ids.indexOf(t)){var i=n.confirm().title("Biztos, hogy eltávolítja a kedvencekből?").textContent("Ez a termék jelenleg a kedvencei közt szerepel.").ariaLabel("Eltávolítás a kedvencek közül").targetEvent(a).ok("Eltávolítás").cancel("Mégse");n.show(i).then(function(){e.doFavAction("remove",t,function(){e.syncFavs(function(t,a){e.fav_num=a,e.in_progress_favid=!1})})},function(){})}else e.in_progress_favid=t,e.doFavAction("add",t,function(){e.syncFavs(function(t,a){e.fav_num=a,e.in_progress_favid=!1})})},e.init=function(t){e.syncFavs(function(t,a){e.fav_num=a}),void 0!==t&&!0===t&&e.loadSettings(["tuzvedo_order_pretext","tuzvedo_order_pretext_wanted","tuzvedo_order_pretext_title"],function(t){"1"==t.tuzvedo_order_pretext_wanted?(e.accept_order_title=""!=t.tuzvedo_order_pretext_title?t.tuzvedo_order_pretext_title:e.accept_order_title,e.accept_order_text=t.tuzvedo_order_pretext,e.acceptBeforeDoneOrder()):e.order_accepted=!0})},e.loadSettings=function(e,t){a({method:"POST",url:"/ajax/get",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"settings",key:e})}).success(function(e){t(e.data)})},e.productRemoveFromFav=function(e){},e.acceptBeforeDoneOrder=function(){if(void 0===c.get(e.accept_order_key)){var t=n.confirm({controller:function(e,t,a,i){e.order_accepted=a,e.accept_order_key=i,e.closeDialog=function(){t.hide()},e.acceptOrder=function(){r.put(e.accept_order_key,1),e.order_accepted=!0,t.hide()}},templateUrl:"/app/templates/acceptBeforeDoneOrder",scope:e,preserveScope:!0,parent:angular.element(document.body),locals:{order_accepted:e.order_accepted,accept_order_key:e.accept_order_key}});n.show(t)}else e.order_accepted=!0},e.requestPrice=function(t){var o=n.confirm({controller:function(e,t,n,o){e.sending=!1,e.termid=n,e.requesttermprice=o,e.closeDialog=function(){t.hide()},e.validateForm=function(){var t=!1;return void 0!==e.requesttermprice.name&&e.requesttermprice.name.length>=5&&void 0!==e.requesttermprice.phone&&!e.requesttermprice.phone.$error&&void 0!==e.requesttermprice.email&&!e.requesttermprice.email.$error&&(t=!0),t},e.sendModalMessage=function(t){e.sending||(e.sending=!0,e.requesttermprice.termid=parseInt(e.termid),a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"modalMessage",modalby:t,datas:e.requesttermprice})}).success(function(t){e.sending=!1,e.requesttermprice={},console.log(t),1==t.error?e.toast(t.msg,"alert",1e4):(i.hide(),e.closeDialog(),e.toast(t.msg,"success",1e4))}))},e.toast=function(e,t,a){t=void 0===t?"simple":t,a=void 0===a?5e3:a,void 0!==e&&i.show(i.simple().textContent(e).position("top").toastClass("alert-toast mode-"+t).hideDelay(a))}},templateUrl:"/app/templates/ProductItemPriceRequest",parent:angular.element(document.body),locals:{termid:t,requesttermprice:e.requesttermprice}});a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"getTermItem",id:t})}).success(function(t){console.log(t),1==t.error?e.toast(t.msg,"alert",1e4):(e.requesttermprice.product=t.product,n.show(o).then(function(){e.status="You decided to get rid of your debt."},function(){e.status="You decided to keep your debt."}))})},e.doFavAction=function(t,n,o){a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"productFavorite",action:t,tid:n})}).success(function(t){1==t.error?e.toast(t.msg,"alert",1e4):(i.hide(),e.toast(t.msg,"success",5e4)),"function"==typeof o&&o(t.error,t.msg,t)})},e.syncFavs=function(t){a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"productFavorite",action:"get",own:1})}).success(function(a){a.ids&&(e.fav_ids=[],angular.forEach(a.ids,function(t,a){e.fav_ids.push(t)})),"function"==typeof t&&t(a.error,a.num)})},e.findedCity={},e.findCityByIrsz=function(t,i){t.preventDefault();var n=t.target.value;a({method:"POST",url:"/ajax/get",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"irszCityHint",irsz:n})}).success(function(t){t.data&&0!=t.data.length?1==t.data.length?$("input#"+i).val(t.data[0].varos):e.findedCity[i]=t.data:t.data&&0==t.data.length&&(e.findedCity[i]=[])})},e.fillCityHint=function(t,a){$("input#"+t).val(a.varos),e.findedCity[t]=[]},e.findernavpos="simple",e.finder_result_num=-1,e.finder_result_text="",e.finder_base_url="/termekek/",e.finder_config={felhasznalasi_teruletek:[],meretek:[],selects:{cats:[],subcats:[]}},e.finder_config_select={catid:0,search_keywords:""},e.parseQuery=function(e){for(var t={},a=("?"===e[0]?e.substr(1):e).split("&"),i=0;i<a.length;i++){var n=a[i].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(decodeURI(n[1])||"")}return t},e.loadFinder=function(t,a){var i=e.parseQuery(a);void 0!==i.src&&(e.finder_config_select.search_keywords=i.src.replace(/\+/g," ")),e.prepareConfigs(function(){e.bindFinder(t)})},e.bindFinder=function(t,i){0!=t&&t&&""!=t&&(e.finder_config_select.catid=t),e.finder_result_text="Betöltés...",e.finder_result_num=-1,a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"finder",action:"calcitem",findermode:e.findernavpos,datas:e.finder_config_select})}).success(function(t){0==t.success?e.finder_result_text=t.msg:e.finder_result_text=t.nums+" db találat",e.finder_result_num=t.nums,t.baseurl&&(e.finder_base_url=t.baseurl),"function"==typeof i&&i(t.nums)})},e.prepareConfigs=function(t){a({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"finder",action:"loadTerms"})}).success(function(a){1==a.success&&a.data.termektipus&&0!==a.data.termektipus.length&&(e.finder_config.selects.cats.push({id:0,label:"Összes típus"}),angular.forEach(a.data.termektipus,function(t,a){0==t.parent?e.finder_config.selects.cats.push(t):(void 0===e.finder_config.selects.subcats[t.parent]&&(e.finder_config.selects.subcats[t.parent]=[]),e.finder_config.selects.subcats[t.parent].push(t))})),1==a.success&&a.data.felhasznalasi_teruletek&&0!==a.data.felhasznalasi_teruletek.length&&(e.finder_config.felhasznalasi_teruletek.push({id:0,label:"Összes terület"}),angular.forEach(a.data.felhasznalasi_teruletek,function(t,a){e.finder_config.felhasznalasi_teruletek.push(t)})),"function"==typeof t&&t()})},e.goFinder=function(){var t=e.finder_base_url;e.finder_result_num>0&&(t+="?src="+(void 0!==e.finder_config_select.search_keywords?e.finder_config_select.search_keywords:""),s.location.href=t)},e.switchFinderNav=function(t){e.findernavpos=t},e.toast=function(e,t,a){t=void 0===t?"simple":t,a=void 0===a?5e3:a,void 0!==e&&i.show(i.simple().textContent(e).position("top").toastClass("alert-toast mode-"+t).hideDelay(a))}}]),tc.controller("ActionButtons",["$scope","$http","$mdDialog","$mdToast",function(e,t,a,i){e.showHints=!0,e.recall={},e.ajanlat={},e.requestRecall=function(){var n=a.confirm({controller:function(e,a,n,o,s){e.showHints=n,e.recall=o,e.ajanlat=s,e.sending=!1,e.closeDialog=function(){a.hide()},e.validateForm=function(){var t=!1;return void 0!==e.recall.name&&e.recall.name.length>=5&&void 0!==e.recall.phone&&!e.recall.phone.$error&&void 0!==e.recall.subject&&(t=!0),t},e.sendModalMessage=function(a){e.sending||(e.sending=!0,t({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"modalMessage",modalby:a,datas:e[a]})}).success(function(t){e.sending=!1,e.recall={},1==t.error?e.toast(t.msg,"alert",1e4):(i.hide(),e.closeDialog(),e.toast(t.msg,"success",1e4))}))},e.toast=function(e,t,a){t=void 0===t?"simple":t,a=void 0===a?5e3:a,void 0!==e&&i.show(i.simple().textContent(e).position("top").toastClass("alert-toast mode-"+t).hideDelay(a))}},templateUrl:"/app/templates/recall",parent:angular.element(document.body),locals:{showHints:e.showHints,recall:e.recall,ajanlat:e.ajanlat}});a.show(n).then(function(){e.status="You decided to get rid of your debt."},function(){e.status="You decided to keep your debt."})},e.requestAjanlat=function(){var n=a.confirm({controller:function(e,a,n,o){e.showHints=n,e.ajanlat=o,e.sending=!1,e.closeDialog=function(){a.hide()},e.validateForm=function(){var t=!1;return void 0!==e.ajanlat.name&&e.ajanlat.name.length>=5&&void 0!==e.ajanlat.phone&&!e.ajanlat.phone.$error&&void 0!==e.ajanlat.email&&!e.ajanlat.email.$error&&void 0!==e.ajanlat.message&&(t=!0),t},e.sendModalMessage=function(a){e.sending||(e.sending=!0,t({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"modalMessage",modalby:a,datas:e[a]})}).success(function(t){e.sending=!1,e.ajanlat={},1==t.error?e.toast(t.msg,"alert",1e4):(i.hide(),e.closeDialog(),e.toast(t.msg,"success",1e4))}))},e.toast=function(e,t,a){t=void 0===t?"simple":t,a=void 0===a?5e3:a,void 0!==e&&i.show(i.simple().textContent(e).position("top").toastClass("alert-toast mode-"+t).hideDelay(a))}},templateUrl:"/app/templates/ajanlatkeres",parent:angular.element(document.body),locals:{showHints:e.showHints,ajanlat:e.ajanlat}});a.show(n).then(function(){e.status="You decided to get rid of your debt."},function(){e.status="You decided to keep your debt."})}}]),tc.controller("Tudastar",["$scope","$http","$mdToast","$element","$location","$window",function(e,t,a,i,n,o){e.found_items=0,e.loading=!1,e.loaded=!1,e.categories=[],e.searchKeys=[],e.validitems=[],e.catFilters={},e.selected_article=!1,e.precats=!1,e.picked_article=!1,e.init=function(){e.doSearch(!0)},e.rebuildPath=function(){var t=n.search(),a=e.implodeObj(e.searchKeys,",");t.tags=a,e.selected_article&&void 0===t.pick?t.pick=e.selected_article:e.selected_article&&t.pick!=e.selected_article?t.pick=e.selected_article:!1===e.selected_article&&(t.pick=null,e.picked_article=!1);var i=[];0!=e.catFilters.length&&(angular.forEach(e.catFilters,function(e,t){i.push(e.ID)}),t.cat=e.implodeObj(i,",")),n.path("?",!1).search(t)},e.prepareFilters=function(){e.selected_article=e.getURLParam("pick");var t=e.getURLParam("tags");if(e.precats=e.getURLParam("cat"),""!=t){var a=t.split(",");void 0!==a&&angular.forEach(a,function(t,a){e.putTagToSearch(t)})}},e.implodeObj=function(e,t){var a="";return angular.forEach(e,function(e,i){a+=e+t}),a=a.slice(0,-1)},e.findArticle=function(t){var a;return 0!=e.categories.length&&angular.forEach(e.categories,function(e,i){0!=e.articles.length&&angular.forEach(e.articles,function(e,i){e.ID==t&&(a=e)})}),a},e.getURLParam=function(e){var t=n.search();return void 0!==t[e]&&t[e]},e.doSearch=function(t){t||e.rebuildPath(),e.prepareFilters(),e.loadCategories(function(t){var a;(e.loaded=!0,e.loading=!1,""!=(a=e.precats))&&(void 0!==(a=a.split(","))&&angular.forEach(a,function(t,a){e.catInFilter(parseInt(t))||e.filterCategory(t)}));e.selected_article&&(e.picked_article=e.findArticle(e.selected_article))})},e.catInFilter=function(t){var a=!1;return 0!=e.catFilters.length&&angular.forEach(e.catFilters,function(e,i){e.ID==t&&(a=!0)}),a},e.emptyCatFilters=function(){return!!angular.equals({},e.catFilters)},e.getCatData=function(t){var a;return 0!=e.categories.length&&angular.forEach(e.categories,function(e,i){e.ID==t&&(a=e)}),a},e.filterCategory=function(t){e.selected_article=!1;var a="cat"+t;void 0===e.catFilters[a]?(e.catFilters[a]={},e.catFilters[a]=e.getCatData(t)):delete e.catFilters[a],e.doSearch(!1)},e.toTop=function(){o.scrollTo(0,0)},e.putTagToSearch=function(t){-1===e.searchKeys.indexOf(t)&&e.searchKeys.push(angular.lowercase(t))},e.inSearchTag=function(t){return-1!==e.searchKeys.indexOf(t)},e.highlightArticle=function(t){e.pickArticle(t,function(){e.doSearch(!1)})},e.removeHighlightArticle=function(){e.selected_article=!1,e.doSearch(!1)},e.pickArticle=function(t,a){e.selected_article=t,void 0!==a&&a(t)},e.loadCategories=function(a){e.loading=!0,e.loaded=!1,t({method:"POST",url:"/ajax/post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param({type:"Helpdesk",action:"getCategories",search:e.searchKeys,cats:e.catFilters})}).success(function(t){1==t.success?(e.categories=t.data,e.found_items=t.count):e.toast(t.msg,"alert",1e4),void 0!==a&&a(t.success)})},e.toast=function(e,t,i){t=void 0===t?"simple":t,i=void 0===i?5e3:i,void 0!==e&&a.show(a.simple().textContent(e).position("top").toastClass("alert-toast mode-"+t).hideDelay(i))}}]),tc.filter("unsafe",function(e){return e.trustAsHtml}),tc.controller("popupReceiver",["$scope","$sce","$cookies","$http","$location","$window","$timeout",function(e,t,a,i,n,o,s){var r=this,c=n.absUrl(),l=(n.path(),n.host(),{contentWidth:970,headerHeight:75,responsiveBreakpoint:960,domain:!1,receiverdomain:"",imageRoot:"https://www.cp.sealring.web-pro.hu/"}),d=function(e){var t,a,i,n,o,s,r="";for(t in e)if((a=e[t])instanceof Array)for(s=0;s<a.length;++s)n=a[s],(o={})[t+"["+s+"]"]=n,r+=d(o)+"&";else if(a instanceof Object)for(i in a)n=a[i],(o={})[t+"["+i+"]"]=n,r+=d(o)+"&";else null!=a&&(r+=encodeURIComponent(t)+"="+encodeURIComponent(a)+"&");return r.length?r.substr(0,r.length-1):r};i.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",i.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?d(e):e}],e.showed=!1,e.test="minta",e.windowWidth=function(){return parseInt(o.innerWidth)},e.windowHeight=function(){return parseInt(o.innerHeight)},e.init=function(t){angular.extend(l,t),r.checkCookie(l.domain);jQuery(document).height();r.loadScreen(c,function(t,a){if(t.show){if("timed"==t.data.creative.type&&s(function(){r.loadedsco=t,r.loadTemplate(a),e.showed=!0,r.logShow(t.data.creative.id,t.data.screen_loaded)},1e3*t.data.creative.settings.timed_delay_sec),"scroll"==t.data.creative.type){var i=0;jQuery(window).scroll(function(){jQuery("body").scrollTop()/((jQuery(document).height()-e.windowHeight())/100)>t.data.creative.settings.scroll_percent_point&&(e.showed||0!=i||(i++,r.loadedsco=t,r.loadTemplate(a),e.showed=!0,r.logShow(t.data.creative.id,t.data.screen_loaded)))})}if("exit"==t.data.creative.type){var n=void 0===t.data.creative.settings.exit_pause_delay_sec?0:t.data.creative.settings.exit_pause_delay_sec;s(function(){var i=0;jQuery(document).mousemove(function(n){n.clientX;n.clientY<l.headerHeight&&(e.showed||0!=i||(i++,r.loadedsco=t,r.loadTemplate(a),e.showed=!0,r.logShow(t.data.creative.id,t.data.screen_loaded)))})},1e3*n)}}})},e.redirect=function(){r.logInteraction(!0,function(){r.loadedsco=!1,e.showed=!1})},e.close=function(){r.logInteraction(!1,function(){r.loadedsco=!1,e.showed=!1})},this.logInteraction=function(e,t){i.post(l.receiverdomain+"/ajax/post/",{type:"logPopupClick",creative:r.loadedsco.data.creative.id,screen:r.loadedsco.data.screen.id,closed:e?0:1,sessionid:r.getSessionID()}).success(function(e,a,i,n){t()})},this.loadScreen=function(e,t){i.post(l.receiverdomain+"/ajax/post/",{type:"getPopupScreenVariables",url:e,sessionid:r.getSessionID()}).success(function(e,a,i,n){var o={};e.show&&(o={settings:angular.fromJson(e.data.screen.variables.settings),screen:angular.fromJson(e.data.screen.variables.screen),content:angular.fromJson(e.data.screen.variables.content),interacion:angular.fromJson(e.data.screen.variables.interacion),links:angular.fromJson(e.data.screen.variables.links)}),t(e,o)})},this.logShow=function(e,t){i.post(l.receiverdomain+"/ajax/post/",{type:"logPopupScreenshow",creative:e,screen:t,sessionid:r.getSessionID()}).success(function(e,t,a,i){console.log(e)})},this.getSessionID=function(){return a.get("popupHostSessionID")},this.checkCookie=function(e){var t=a.get("popupHostSessionID");if(void 0===t){var i=Math.floor(999999999*Math.random()+111111111),n=new Date;n.setDate(n.getDate()+30),a.put("popupHostSessionID",i,{path:"/",domain:e,expires:n}),t=i}},this.loadTemplate=function(a){"%"==a.settings.type&&e.windowWidth()<l.contentWidth&&(a.settings.width=95,a.content.title.size=a.content.title.size-a.content.title.size/100*20,a.interacion.main.text_size=a.interacion.main.text_size-a.interacion.main.text_size/100*30),"px"==a.settings.type&&e.windowWidth()<a.settings.width&&(a.settings.width=e.windowWidth()-10,a.content.title.size=a.content.title.size-a.content.title.size/100*20,a.interacion.main.text_size=a.interacion.main.text_size-a.interacion.main.text_size/100*30),e.settings={},e.settings.width=50,e.settings.type="%",e.settings.width_types=["px","%"],e.settings.background_color="rgba(255, 121, 154, 0.79)",angular.extend(e.settings,a.settings),e.screen={},e.screen.padding=10,e.screen.background_color="rgba(212, 28, 79, 1)",e.screen.background_image="",e.screen.background_pos={"left top":"Balra fentre","left center":"Balra középre","left bottom":"Balra alulra","right top":"Jobbra fentre","right center":"Jobbra középre","right bottom":"Jobbra alulra","center top":"Középre fentre","center center":"Középre","center bottom":"Középre alulra"},e.screen.background_pos_sel="center center",e.screen.background_reps={"no-repeat":"Nincs ismétlődés",repeat:"Ismétlődik","repeat-x":"Horizontális tengelyen ismétlődik","repeat-y":"Vertikális tengelyen ismétlődik"},e.screen.background_repeat="no-repeat",e.screen.background_sizes={"":"Eredeti méret",contain:"Tartalomhoz igazít",cover:"Kitöltés","100%":"100% szélesség"},e.screen.background_size="",e.screen.border_color="rgba(255, 255, 255, 0.2)",e.screen.border_size=5,e.screen.border_type="solid",e.screen.border_types=["dotted","dashed","solid","double","groove","ridge","inset","outset"],e.screen.shadow_radius=50,e.screen.shadow_color="#000",e.screen.shadow={x:0,y:15},e.screen.shadow_width=-5,e.screen.cssstyles="",e.screen.text_color="#fff",e.screen.text_size=1,e.screen.text_align="center",a.screen.background_pos=e.screen.background_pos,a.screen.background_reps=e.screen.background_reps,a.screen.background_sizes=e.screen.background_sizes,a.screen.border_types=e.screen.border_types,angular.extend(e.screen,a.screen),e.content={},e.content.title={},e.content.title.text="Főcím",e.content.title.color="",e.content.title.size=2.4,e.content.title.align="",e.content.subtitle={},e.content.subtitle.text="Alcím",e.content.subtitle.color="",e.content.subtitle.size=1.4,e.content.subtitle.align="",e.content.fill={},e.content.fill.text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam vel metus id arcu fermentum rutrum. Aenean neque ante, dignissim non massa non, cursus malesuada nulla. Ut sodales volutpat leo vel lobortis. Nulla sagittis tempor dolor at laoreet. Donec at pharetra mauris. Cras at tortor at sapien condimentum facilisis. Vivamus quis erat non nisl dapibus fermentum in sit amet mi. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus non dapibus ligula. Donec ac nunc interdum, ultricies ligula vitae, cursus lacus. Cras imperdiet ultrices turpis a pulvinar. Phasellus id tortor vitae ante ultrices elementum eget at elit. Duis cursus arcu et magna porttitor, eget maximus mauris dignissim.",e.content.fill.color="",e.content.fill.size=1,e.content.fill.align="",a.content.fill.text=a.content.fill.text.replace("../",l.imageRoot),e.textHTML=function(){return t.trustAsHtml(e.content.fill.text)},angular.extend(e.content,a.content),e.interacion={},e.interacion.main={},e.interacion.main.text="Tovább",e.interacion.main.text_color="rgba(255,255,255,1)",e.interacion.main.text_size=1.8,e.interacion.main.text_custom="",e.interacion.main.text_align="center",e.interacion.main.background="rgba(0,0,0,1)",e.interacion.main.width=60,e.interacion.main.width_type="%",e.interacion.main.width_types=["%","px"],e.interacion.main.padding=10,e.interacion.main.margin=10,e.interacion.main.border_color="#fff",e.interacion.main.border_width=2,e.interacion.main.border_style="solid",e.interacion.main.border_radius=10,e.interacion.exit={},e.interacion.exit.text="Nem érdekel",e.interacion.exit.text_color="rgba(255,255,255,0.8)",e.interacion.exit.text_style="italic",e.interacion.exit.text_styles={bold:"Félkövér",italic:"Dölt",normal:"Normál"},e.interacion.exit.text_size=.8,e.interacion.exit.text_custom="",angular.extend(e.interacion,a.interacion),e.links={},e.links.to_url="#",e.links.exit_url="javascript:popupClose();",e.links.open_type="_blank",e.links.open_types={_blank:"Új ablakban",_self:"Helyben"},angular.extend(e.links,a.links)}}]);
